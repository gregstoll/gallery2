<?php
/*
 * Gallery - a web based photo album viewer and editor
 * Copyright (C) 2000-2008 Bharat Mediratta
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or (at
 * your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA  02110-1301, USA.
 */

/**
 * A collection of useful charset related utilities
 * @package GalleryCore
 * @subpackage Helpers
 * @author Bharat Mediratta <bharat@menalto.com>
 * @version $Revision: 17580 $
 * @static
 */
class GalleryCharsetHelper_medium {

    /**
     * Return a mapping for the given character set.
     * @return array(int => character, ...)
     */
    function &getCharsetTable($desired) {
	static $charset;

	$desired = str_replace('Windows-', 'CP', $desired);

	if (!isset($charset)) {
	    $charset['ISO-8859-1'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc3\x80", 224 => "\xc3\xa0",
		129 => '', 161 => "\xc2\xa1", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xc2\xa2", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc2\xa3", 195 => "\xc3\x83", 227 => "\xc3\xa3",
		132 => '', 164 => "\xc2\xa4", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xc2\xa5", 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => '', 166 => "\xc2\xa6", 198 => "\xc3\x86", 230 => "\xc3\xa6",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc3\x87", 231 => "\xc3\xa7",
		136 => '', 168 => "\xc2\xa8", 200 => "\xc3\x88", 232 => "\xc3\xa8",
		137 => '', 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc2\xaa", 202 => "\xc3\x8a", 234 => "\xc3\xaa",
		139 => '', 171 => "\xc2\xab", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xc2\xac", 204 => "\xc3\x8c", 236 => "\xc3\xac",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc2\xae", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc2\xaf", 207 => "\xc3\x8f", 239 => "\xc3\xaf",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc3\x90", 240 => "\xc3\xb0",
		145 => '', 177 => "\xc2\xb1", 209 => "\xc3\x91", 241 => "\xc3\xb1",
		146 => '', 178 => "\xc2\xb2", 210 => "\xc3\x92", 242 => "\xc3\xb2",
		147 => '', 179 => "\xc2\xb3", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xc2\xb4", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xc2\xb5", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => '', 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xc2\xb7", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc2\xb8", 216 => "\xc3\x98", 248 => "\xc3\xb8",
		153 => '', 185 => "\xc2\xb9", 217 => "\xc3\x99", 249 => "\xc3\xb9",
		154 => '', 186 => "\xc2\xba", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xc2\xbb", 219 => "\xc3\x9b", 251 => "\xc3\xbb",
		156 => '', 188 => "\xc2\xbc", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xc2\xbd", 221 => "\xc3\x9d", 253 => "\xc3\xbd",
		158 => '', 190 => "\xc2\xbe", 222 => "\xc3\x9e", 254 => "\xc3\xbe",
		159 => '', 191 => "\xc2\xbf", 223 => "\xc3\x9f", 255 => "\xc3\xbf");

	    $charset['ISO-8859-10'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc4\x80", 224 => "\xc4\x81",
		129 => '', 161 => "\xc4\x84", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xc4\x92", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc4\xa2", 195 => "\xc3\x83", 227 => "\xc3\xa3",
		132 => '', 164 => "\xc4\xaa", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xc4\xa8", 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => '', 166 => "\xc4\xb6", 198 => "\xc3\x86", 230 => "\xc3\xa6",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc4\xae", 231 => "\xc4\xaf",
		136 => '', 168 => "\xc4\xbb", 200 => "\xc4\x8c", 232 => "\xc4\x8d",
		137 => '', 169 => "\xc4\x90", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc5\xa0", 202 => "\xc4\x98", 234 => "\xc4\x99",
		139 => '', 171 => "\xc5\xa6", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xc5\xbd", 204 => "\xc4\x96", 236 => "\xc4\x97",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc5\xaa", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc5\x8a", 207 => "\xc3\x8f", 239 => "\xc3\xaf",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc3\x90", 240 => "\xc3\xb0",
		145 => '', 177 => "\xc4\x85", 209 => "\xc5\x85", 241 => "\xc5\x86",
		146 => '', 178 => "\xc4\x93", 210 => "\xc5\x8c", 242 => "\xc5\x8d",
		147 => '', 179 => "\xc4\xa3", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xc4\xab", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xc4\xa9", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => '', 182 => "\xc4\xb7", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xc2\xb7", 215 => "\xc5\xa8", 247 => "\xc5\xa9",
		152 => '', 184 => "\xc4\xbc", 216 => "\xc3\x98", 248 => "\xc3\xb8",
		153 => '', 185 => "\xc4\x91", 217 => "\xc5\xb2", 249 => "\xc5\xb3",
		154 => '', 186 => "\xc5\xa1", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xc5\xa7", 219 => "\xc3\x9b", 251 => "\xc3\xbb",
		156 => '', 188 => "\xc5\xbe", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xe2\x80\x95", 221 => "\xc3\x9d", 253 => "\xc3\xbd",
		158 => '', 190 => "\xc5\xab", 222 => "\xc3\x9e", 254 => "\xc3\xbe",
		159 => '', 191 => "\xc5\x8b", 223 => "\xc3\x9f", 255 => "\xc4\xb8");

	    $charset['ISO-8859-11'] = array(
		128 => '', 158 => '', 188 => "\xe0\xb8\x9c", 218 => "\xe0\xb8\xba",
		129 => '', 159 => '', 189 => "\xe0\xb8\x9d", 223 => "\xe0\xb8\xbf",
		130 => '', 160 => "\xc2\xa0", 190 => "\xe0\xb8\x9e", 224 => "\xe0\xb9\x80",
		131 => '', 161 => "\xe0\xb8\x81", 191 => "\xe0\xb8\x9f", 225 => "\xe0\xb9\x81",
		132 => '', 162 => "\xe0\xb8\x82", 192 => "\xe0\xb8\xa0", 226 => "\xe0\xb9\x82",
		133 => '', 163 => "\xe0\xb8\x83", 193 => "\xe0\xb8\xa1", 227 => "\xe0\xb9\x83",
		134 => '', 164 => "\xe0\xb8\x84", 194 => "\xe0\xb8\xa2", 228 => "\xe0\xb9\x84",
		135 => '', 165 => "\xe0\xb8\x85", 195 => "\xe0\xb8\xa3", 229 => "\xe0\xb9\x85",
		136 => '', 166 => "\xe0\xb8\x86", 196 => "\xe0\xb8\xa4", 230 => "\xe0\xb9\x86",
		137 => '', 167 => "\xe0\xb8\x87", 197 => "\xe0\xb8\xa5", 231 => "\xe0\xb9\x87",
		138 => '', 168 => "\xe0\xb8\x88", 198 => "\xe0\xb8\xa6", 232 => "\xe0\xb9\x88",
		139 => '', 169 => "\xe0\xb8\x89", 199 => "\xe0\xb8\xa7", 233 => "\xe0\xb9\x89",
		140 => '', 170 => "\xe0\xb8\x8a", 200 => "\xe0\xb8\xa8", 234 => "\xe0\xb9\x8a",
		141 => '', 171 => "\xe0\xb8\x8b", 201 => "\xe0\xb8\xa9", 235 => "\xe0\xb9\x8b",
		142 => '', 172 => "\xe0\xb8\x8c", 202 => "\xe0\xb8\xaa", 236 => "\xe0\xb9\x8c",
		143 => '', 173 => "\xe0\xb8\x8d", 203 => "\xe0\xb8\xab", 237 => "\xe0\xb9\x8d",
		144 => '', 174 => "\xe0\xb8\x8e", 204 => "\xe0\xb8\xac", 238 => "\xe0\xb9\x8e",
		145 => '', 175 => "\xe0\xb8\x8f", 205 => "\xe0\xb8\xad", 239 => "\xe0\xb9\x8f",
		146 => '', 176 => "\xe0\xb8\x90", 206 => "\xe0\xb8\xae", 240 => "\xe0\xb9\x90",
		147 => '', 177 => "\xe0\xb8\x91", 207 => "\xe0\xb8\xaf", 241 => "\xe0\xb9\x91",
		148 => '', 178 => "\xe0\xb8\x92", 208 => "\xe0\xb8\xb0", 242 => "\xe0\xb9\x92",
		149 => '', 179 => "\xe0\xb8\x93", 209 => "\xe0\xb8\xb1", 243 => "\xe0\xb9\x93",
		150 => '', 180 => "\xe0\xb8\x94", 210 => "\xe0\xb8\xb2", 244 => "\xe0\xb9\x94",
		151 => '', 181 => "\xe0\xb8\x95", 211 => "\xe0\xb8\xb3", 245 => "\xe0\xb9\x95",
		152 => '', 182 => "\xe0\xb8\x96", 212 => "\xe0\xb8\xb4", 246 => "\xe0\xb9\x96",
		153 => '', 183 => "\xe0\xb8\x97", 213 => "\xe0\xb8\xb5", 247 => "\xe0\xb9\x97",
		154 => '', 184 => "\xe0\xb8\x98", 214 => "\xe0\xb8\xb6", 248 => "\xe0\xb9\x98",
		155 => '', 185 => "\xe0\xb8\x99", 215 => "\xe0\xb8\xb7", 249 => "\xe0\xb9\x99",
		156 => '', 186 => "\xe0\xb8\x9a", 216 => "\xe0\xb8\xb8", 250 => "\xe0\xb9\x9a",
		157 => '', 187 => "\xe0\xb8\x9b", 217 => "\xe0\xb8\xb9", 251 => "\xe0\xb9\x9b");

	    $charset['ISO-8859-13'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc4\x84", 224 => "\xc4\x85",
		129 => '', 161 => "\xe2\x80\x9d", 193 => "\xc4\xae", 225 => "\xc4\xaf",
		130 => '', 162 => "\xc2\xa2", 194 => "\xc4\x80", 226 => "\xc4\x81",
		131 => '', 163 => "\xc2\xa3", 195 => "\xc4\x86", 227 => "\xc4\x87",
		132 => '', 164 => "\xc2\xa4", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xe2\x80\x9e", 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => '', 166 => "\xc2\xa6", 198 => "\xc4\x98", 230 => "\xc4\x99",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc4\x92", 231 => "\xc4\x93",
		136 => '', 168 => "\xc3\x98", 200 => "\xc4\x8c", 232 => "\xc4\x8d",
		137 => '', 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc5\x96", 202 => "\xc5\xb9", 234 => "\xc5\xba",
		139 => '', 171 => "\xc2\xab", 203 => "\xc4\x96", 235 => "\xc4\x97",
		140 => '', 172 => "\xc2\xac", 204 => "\xc4\xa2", 236 => "\xc4\xa3",
		141 => '', 173 => "\xc2\xad", 205 => "\xc4\xb6", 237 => "\xc4\xb7",
		142 => '', 174 => "\xc2\xae", 206 => "\xc4\xaa", 238 => "\xc4\xab",
		143 => '', 175 => "\xc3\x86", 207 => "\xc4\xbb", 239 => "\xc4\xbc",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc5\xa0", 240 => "\xc5\xa1",
		145 => '', 177 => "\xc2\xb1", 209 => "\xc5\x83", 241 => "\xc5\x84",
		146 => '', 178 => "\xc2\xb2", 210 => "\xc5\x85", 242 => "\xc5\x86",
		147 => '', 179 => "\xc2\xb3", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xe2\x80\x9c", 212 => "\xc5\x8c", 244 => "\xc5\x8d",
		149 => '', 181 => "\xc2\xb5", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => '', 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xc2\xb7", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc3\xb8", 216 => "\xc5\xb2", 248 => "\xc5\xb3",
		153 => '', 185 => "\xc2\xb9", 217 => "\xc5\x81", 249 => "\xc5\x82",
		154 => '', 186 => "\xc5\x97", 218 => "\xc5\x9a", 250 => "\xc5\x9b",
		155 => '', 187 => "\xc2\xbb", 219 => "\xc5\xaa", 251 => "\xc5\xab",
		156 => '', 188 => "\xc2\xbc", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xc2\xbd", 221 => "\xc5\xbb", 253 => "\xc5\xbc",
		158 => '', 190 => "\xc2\xbe", 222 => "\xc5\xbd", 254 => "\xc5\xbe",
		159 => '', 191 => "\xc3\xa6", 223 => "\xc3\x9f", 255 => "\xe2\x80\x99");

	    $charset['ISO-8859-14'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc3\x80", 224 => "\xc3\xa0",
		129 => '', 161 => "\xe1\xb8\x82", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xe1\xb8\x83", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc2\xa3", 195 => "\xc3\x83", 227 => "\xc3\xa3",
		132 => '', 164 => "\xc4\x8a", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xc4\x8b", 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => '', 166 => "\xe1\xb8\x8a", 198 => "\xc3\x86", 230 => "\xc3\xa6",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc3\x87", 231 => "\xc3\xa7",
		136 => '', 168 => "\xe1\xba\x80", 200 => "\xc3\x88", 232 => "\xc3\xa8",
		137 => '', 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xe1\xba\x82", 202 => "\xc3\x8a", 234 => "\xc3\xaa",
		139 => '', 171 => "\xe1\xb8\x8b", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xe1\xbb\xb2", 204 => "\xc3\x8c", 236 => "\xc3\xac",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc2\xae", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc5\xb8", 207 => "\xc3\x8f", 239 => "\xc3\xaf",
		144 => '', 176 => "\xe1\xb8\x9e", 208 => "\xc5\xb4", 240 => "\xc5\xb5",
		145 => '', 177 => "\xe1\xb8\x9f", 209 => "\xc3\x91", 241 => "\xc3\xb1",
		146 => '', 178 => "\xc4\xa0", 210 => "\xc3\x92", 242 => "\xc3\xb2",
		147 => '', 179 => "\xc4\xa1", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xe1\xb9\x80", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xe1\xb9\x81", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => '', 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xe1\xb9\x96", 215 => "\xe1\xb9\xaa", 247 => "\xe1\xb9\xab",
		152 => '', 184 => "\xe1\xba\x81", 216 => "\xc3\x98", 248 => "\xc3\xb8",
		153 => '', 185 => "\xe1\xb9\x97", 217 => "\xc3\x99", 249 => "\xc3\xb9",
		154 => '', 186 => "\xe1\xba\x83", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xe1\xb9\xa0", 219 => "\xc3\x9b", 251 => "\xc3\xbb",
		156 => '', 188 => "\xe1\xbb\xb3", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xe1\xba\x84", 221 => "\xc3\x9d", 253 => "\xc3\xbd",
		158 => '', 190 => "\xe1\xba\x85", 222 => "\xc5\xb6", 254 => "\xc5\xb7",
		159 => '', 191 => "\xe1\xb9\xa1", 223 => "\xc3\x9f", 255 => "\xc3\xbf");

	    $charset['ISO-8859-15'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc3\x80", 224 => "\xc3\xa0",
		129 => '', 161 => "\xc2\xa1", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xc2\xa2", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc2\xa3", 195 => "\xc3\x83", 227 => "\xc3\xa3",
		132 => '', 164 => "\xe2\x82\xac", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xc2\xa5", 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => '', 166 => "\xc5\xa0", 198 => "\xc3\x86", 230 => "\xc3\xa6",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc3\x87", 231 => "\xc3\xa7",
		136 => '', 168 => "\xc5\xa1", 200 => "\xc3\x88", 232 => "\xc3\xa8",
		137 => '', 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc2\xaa", 202 => "\xc3\x8a", 234 => "\xc3\xaa",
		139 => '', 171 => "\xc2\xab", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xc2\xac", 204 => "\xc3\x8c", 236 => "\xc3\xac",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc2\xae", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc2\xaf", 207 => "\xc3\x8f", 239 => "\xc3\xaf",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc3\x90", 240 => "\xc3\xb0",
		145 => '', 177 => "\xc2\xb1", 209 => "\xc3\x91", 241 => "\xc3\xb1",
		146 => '', 178 => "\xc2\xb2", 210 => "\xc3\x92", 242 => "\xc3\xb2",
		147 => '', 179 => "\xc2\xb3", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xc5\xbd", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xc2\xb5", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => '', 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xc2\xb7", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc5\xbe", 216 => "\xc3\x98", 248 => "\xc3\xb8",
		153 => '', 185 => "\xc2\xb9", 217 => "\xc3\x99", 249 => "\xc3\xb9",
		154 => '', 186 => "\xc2\xba", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xc2\xbb", 219 => "\xc3\x9b", 251 => "\xc3\xbb",
		156 => '', 188 => "\xc5\x92", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xc5\x93", 221 => "\xc3\x9d", 253 => "\xc3\xbd",
		158 => '', 190 => "\xc5\xb8", 222 => "\xc3\x9e", 254 => "\xc3\xbe",
		159 => '', 191 => "\xc2\xbf", 223 => "\xc3\x9f", 255 => "\xc3\xbf");

	    $charset['ISO-8859-16'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc3\x80", 224 => "\xc3\xa0",
		129 => '', 161 => "\xc4\x84", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xc4\x85", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc5\x81", 195 => "\xc4\x82", 227 => "\xc4\x83",
		132 => '', 164 => "\xe2\x82\xac", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xe2\x80\x9e", 197 => "\xc4\x86", 229 => "\xc4\x87",
		134 => '', 166 => "\xc5\xa0", 198 => "\xc3\x86", 230 => "\xc3\xa6",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc3\x87", 231 => "\xc3\xa7",
		136 => '', 168 => "\xc5\xa1", 200 => "\xc3\x88", 232 => "\xc3\xa8",
		137 => '', 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc8\x98", 202 => "\xc3\x8a", 234 => "\xc3\xaa",
		139 => '', 171 => "\xc2\xab", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xc5\xb9", 204 => "\xc3\x8c", 236 => "\xc3\xac",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc5\xba", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc5\xbb", 207 => "\xc3\x8f", 239 => "\xc3\xaf",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc4\x90", 240 => "\xc4\x91",
		145 => '', 177 => "\xc2\xb1", 209 => "\xc5\x83", 241 => "\xc5\x84",
		146 => '', 178 => "\xc4\x8c", 210 => "\xc3\x92", 242 => "\xc3\xb2",
		147 => '', 179 => "\xc5\x82", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xc5\xbd", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xe2\x80\x9d", 213 => "\xc5\x90", 245 => "\xc5\x91",
		150 => '', 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xc2\xb7", 215 => "\xc5\x9a", 247 => "\xc5\x9b",
		152 => '', 184 => "\xc5\xbe", 216 => "\xc5\xb0", 248 => "\xc5\xb1",
		153 => '', 185 => "\xc4\x8d", 217 => "\xc3\x99", 249 => "\xc3\xb9",
		154 => '', 186 => "\xc8\x99", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xc2\xbb", 219 => "\xc3\x9b", 251 => "\xc3\xbb",
		156 => '', 188 => "\xc5\x92", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xc5\x93", 221 => "\xc4\x98", 253 => "\xc4\x99",
		158 => '', 190 => "\xc5\xb8", 222 => "\xc8\x9a", 254 => "\xc8\x9b",
		159 => '', 191 => "\xc5\xbc", 223 => "\xc3\x9f", 255 => "\xc3\xbf");

	    $charset['ISO-8859-2'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc5\x94", 224 => "\xc5\x95",
		129 => '', 161 => "\xc4\x84", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xcb\x98", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc5\x81", 195 => "\xc4\x82", 227 => "\xc4\x83",
		132 => '', 164 => "\xc2\xa4", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xc4\xbd", 197 => "\xc4\xb9", 229 => "\xc4\xba",
		134 => '', 166 => "\xc5\x9a", 198 => "\xc4\x86", 230 => "\xc4\x87",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc3\x87", 231 => "\xc3\xa7",
		136 => '', 168 => "\xc2\xa8", 200 => "\xc4\x8c", 232 => "\xc4\x8d",
		137 => '', 169 => "\xc5\xa0", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc5\x9e", 202 => "\xc4\x98", 234 => "\xc4\x99",
		139 => '', 171 => "\xc5\xa4", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xc5\xb9", 204 => "\xc4\x9a", 236 => "\xc4\x9b",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc5\xbd", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc5\xbb", 207 => "\xc4\x8e", 239 => "\xc4\x8f",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc4\x90", 240 => "\xc4\x91",
		145 => '', 177 => "\xc4\x85", 209 => "\xc5\x83", 241 => "\xc5\x84",
		146 => '', 178 => "\xcb\x9b", 210 => "\xc5\x87", 242 => "\xc5\x88",
		147 => '', 179 => "\xc5\x82", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xc2\xb4", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xc4\xbe", 213 => "\xc5\x90", 245 => "\xc5\x91",
		150 => '', 182 => "\xc5\x9b", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xcb\x87", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc2\xb8", 216 => "\xc5\x98", 248 => "\xc5\x99",
		153 => '', 185 => "\xc5\xa1", 217 => "\xc5\xae", 249 => "\xc5\xaf",
		154 => '', 186 => "\xc5\x9f", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xc5\xa5", 219 => "\xc5\xb0", 251 => "\xc5\xb1",
		156 => '', 188 => "\xc5\xba", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xcb\x9d", 221 => "\xc3\x9d", 253 => "\xc3\xbd",
		158 => '', 190 => "\xc5\xbe", 222 => "\xc5\xa2", 254 => "\xc5\xa3",
		159 => '', 191 => "\xc5\xbc", 223 => "\xc3\x9f", 255 => "\xcb\x99");

	    $charset['ISO-8859-3'] = array(
		128 => '', 159 => '', 193 => "\xc3\x81", 226 => "\xc3\xa2",
		129 => '', 160 => "\xc2\xa0", 194 => "\xc3\x82", 228 => "\xc3\xa4",
		130 => '', 161 => "\xc4\xa6", 196 => "\xc3\x84", 229 => "\xc4\x8b",
		131 => '', 162 => "\xcb\x98", 197 => "\xc4\x8a", 230 => "\xc4\x89",
		132 => '', 163 => "\xc2\xa3", 198 => "\xc4\x88", 231 => "\xc3\xa7",
		133 => '', 164 => "\xc2\xa4", 199 => "\xc3\x87", 232 => "\xc3\xa8",
		134 => '', 166 => "\xc4\xa4", 200 => "\xc3\x88", 233 => "\xc3\xa9",
		135 => '', 167 => "\xc2\xa7", 201 => "\xc3\x89", 234 => "\xc3\xaa",
		136 => '', 168 => "\xc2\xa8", 202 => "\xc3\x8a", 235 => "\xc3\xab",
		137 => '', 169 => "\xc4\xb0", 203 => "\xc3\x8b", 236 => "\xc3\xac",
		138 => '', 170 => "\xc5\x9e", 204 => "\xc3\x8c", 237 => "\xc3\xad",
		139 => '', 171 => "\xc4\x9e", 205 => "\xc3\x8d", 238 => "\xc3\xae",
		140 => '', 172 => "\xc4\xb4", 206 => "\xc3\x8e", 239 => "\xc3\xaf",
		141 => '', 173 => "\xc2\xad", 207 => "\xc3\x8f", 241 => "\xc3\xb1",
		142 => '', 175 => "\xc5\xbb", 209 => "\xc3\x91", 242 => "\xc3\xb2",
		143 => '', 176 => "\xc2\xb0", 210 => "\xc3\x92", 243 => "\xc3\xb3",
		144 => '', 177 => "\xc4\xa7", 211 => "\xc3\x93", 244 => "\xc3\xb4",
		145 => '', 178 => "\xc2\xb2", 212 => "\xc3\x94", 245 => "\xc4\xa1",
		146 => '', 179 => "\xc2\xb3", 213 => "\xc4\xa0", 246 => "\xc3\xb6",
		147 => '', 180 => "\xc2\xb4", 214 => "\xc3\x96", 247 => "\xc3\xb7",
		148 => '', 181 => "\xc2\xb5", 215 => "\xc3\x97", 248 => "\xc4\x9d",
		149 => '', 182 => "\xc4\xa5", 216 => "\xc4\x9c", 249 => "\xc3\xb9",
		150 => '', 183 => "\xc2\xb7", 217 => "\xc3\x99", 250 => "\xc3\xba",
		151 => '', 184 => "\xc2\xb8", 218 => "\xc3\x9a", 251 => "\xc3\xbb",
		152 => '', 185 => "\xc4\xb1", 219 => "\xc3\x9b", 252 => "\xc3\xbc",
		153 => '', 186 => "\xc5\x9f", 220 => "\xc3\x9c", 253 => "\xc5\xad",
		154 => '', 187 => "\xc4\x9f", 221 => "\xc5\xac", 254 => "\xc5\x9d",
		155 => '', 188 => "\xc4\xb5", 222 => "\xc5\x9c", 255 => "\xcb\x99",
		156 => '', 189 => "\xc2\xbd", 223 => "\xc3\x9f",
		157 => '', 191 => "\xc5\xbc", 224 => "\xc3\xa0",
		158 => '', 192 => "\xc3\x80", 225 => "\xc3\xa1");

	    $charset['ISO-8859-4'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc4\x80", 224 => "\xc4\x81",
		129 => '', 161 => "\xc4\x84", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xc4\xb8", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc5\x96", 195 => "\xc3\x83", 227 => "\xc3\xa3",
		132 => '', 164 => "\xc2\xa4", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xc4\xa8", 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => '', 166 => "\xc4\xbb", 198 => "\xc3\x86", 230 => "\xc3\xa6",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc4\xae", 231 => "\xc4\xaf",
		136 => '', 168 => "\xc2\xa8", 200 => "\xc4\x8c", 232 => "\xc4\x8d",
		137 => '', 169 => "\xc5\xa0", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc4\x92", 202 => "\xc4\x98", 234 => "\xc4\x99",
		139 => '', 171 => "\xc4\xa2", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xc5\xa6", 204 => "\xc4\x96", 236 => "\xc4\x97",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc5\xbd", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc2\xaf", 207 => "\xc4\xaa", 239 => "\xc4\xab",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc4\x90", 240 => "\xc4\x91",
		145 => '', 177 => "\xc4\x85", 209 => "\xc5\x85", 241 => "\xc5\x86",
		146 => '', 178 => "\xcb\x9b", 210 => "\xc5\x8c", 242 => "\xc5\x8d",
		147 => '', 179 => "\xc5\x97", 211 => "\xc4\xb6", 243 => "\xc4\xb7",
		148 => '', 180 => "\xc2\xb4", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xc4\xa9", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => '', 182 => "\xc4\xbc", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xcb\x87", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc2\xb8", 216 => "\xc3\x98", 248 => "\xc3\xb8",
		153 => '', 185 => "\xc5\xa1", 217 => "\xc5\xb2", 249 => "\xc5\xb3",
		154 => '', 186 => "\xc4\x93", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xc4\xa3", 219 => "\xc3\x9b", 251 => "\xc3\xbb",
		156 => '', 188 => "\xc5\xa7", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xc5\x8a", 221 => "\xc5\xa8", 253 => "\xc5\xa9",
		158 => '', 190 => "\xc5\xbe", 222 => "\xc5\xaa", 254 => "\xc5\xab",
		159 => '', 191 => "\xc5\x8b", 223 => "\xc3\x9f", 255 => "\xcb\x99");

	    $charset['ISO-8859-5'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xd0\xa0", 224 => "\xd1\x80",
		129 => '', 161 => "\xd0\x81", 193 => "\xd0\xa1", 225 => "\xd1\x81",
		130 => '', 162 => "\xd0\x82", 194 => "\xd0\xa2", 226 => "\xd1\x82",
		131 => '', 163 => "\xd0\x83", 195 => "\xd0\xa3", 227 => "\xd1\x83",
		132 => '', 164 => "\xd0\x84", 196 => "\xd0\xa4", 228 => "\xd1\x84",
		133 => '', 165 => "\xd0\x85", 197 => "\xd0\xa5", 229 => "\xd1\x85",
		134 => '', 166 => "\xd0\x86", 198 => "\xd0\xa6", 230 => "\xd1\x86",
		135 => '', 167 => "\xd0\x87", 199 => "\xd0\xa7", 231 => "\xd1\x87",
		136 => '', 168 => "\xd0\x88", 200 => "\xd0\xa8", 232 => "\xd1\x88",
		137 => '', 169 => "\xd0\x89", 201 => "\xd0\xa9", 233 => "\xd1\x89",
		138 => '', 170 => "\xd0\x8a", 202 => "\xd0\xaa", 234 => "\xd1\x8a",
		139 => '', 171 => "\xd0\x8b", 203 => "\xd0\xab", 235 => "\xd1\x8b",
		140 => '', 172 => "\xd0\x8c", 204 => "\xd0\xac", 236 => "\xd1\x8c",
		141 => '', 173 => "\xc2\xad", 205 => "\xd0\xad", 237 => "\xd1\x8d",
		142 => '', 174 => "\xd0\x8e", 206 => "\xd0\xae", 238 => "\xd1\x8e",
		143 => '', 175 => "\xd0\x8f", 207 => "\xd0\xaf", 239 => "\xd1\x8f",
		144 => '', 176 => "\xd0\x90", 208 => "\xd0\xb0", 240 => "\xe2\x84\x96",
		145 => '', 177 => "\xd0\x91", 209 => "\xd0\xb1", 241 => "\xd1\x91",
		146 => '', 178 => "\xd0\x92", 210 => "\xd0\xb2", 242 => "\xd1\x92",
		147 => '', 179 => "\xd0\x93", 211 => "\xd0\xb3", 243 => "\xd1\x93",
		148 => '', 180 => "\xd0\x94", 212 => "\xd0\xb4", 244 => "\xd1\x94",
		149 => '', 181 => "\xd0\x95", 213 => "\xd0\xb5", 245 => "\xd1\x95",
		150 => '', 182 => "\xd0\x96", 214 => "\xd0\xb6", 246 => "\xd1\x96",
		151 => '', 183 => "\xd0\x97", 215 => "\xd0\xb7", 247 => "\xd1\x97",
		152 => '', 184 => "\xd0\x98", 216 => "\xd0\xb8", 248 => "\xd1\x98",
		153 => '', 185 => "\xd0\x99", 217 => "\xd0\xb9", 249 => "\xd1\x99",
		154 => '', 186 => "\xd0\x9a", 218 => "\xd0\xba", 250 => "\xd1\x9a",
		155 => '', 187 => "\xd0\x9b", 219 => "\xd0\xbb", 251 => "\xd1\x9b",
		156 => '', 188 => "\xd0\x9c", 220 => "\xd0\xbc", 252 => "\xd1\x9c",
		157 => '', 189 => "\xd0\x9d", 221 => "\xd0\xbd", 253 => "\xc2\xa7",
		158 => '', 190 => "\xd0\x9e", 222 => "\xd0\xbe", 254 => "\xd1\x9e",
		159 => '', 191 => "\xd0\x9f", 223 => "\xd0\xbf", 255 => "\xd1\x9f");

	    $charset['ISO-8859-6'] = array(
		128 => '', 149 => '', 197 => "\xd8\xa5", 218 => "\xd8\xba",
		129 => '', 150 => '', 198 => "\xd8\xa6", 224 => "\xd9\x80",
		130 => '', 151 => '', 199 => "\xd8\xa7", 225 => "\xd9\x81",
		131 => '', 152 => '', 200 => "\xd8\xa8", 226 => "\xd9\x82",
		132 => '', 153 => '', 201 => "\xd8\xa9", 227 => "\xd9\x83",
		133 => '', 154 => '', 202 => "\xd8\xaa", 228 => "\xd9\x84",
		134 => '', 155 => '', 203 => "\xd8\xab", 229 => "\xd9\x85",
		135 => '', 156 => '', 204 => "\xd8\xac", 230 => "\xd9\x86",
		136 => '', 157 => '', 205 => "\xd8\xad", 231 => "\xd9\x87",
		137 => '', 158 => '', 206 => "\xd8\xae", 232 => "\xd9\x88",
		138 => '', 159 => '', 207 => "\xd8\xaf", 233 => "\xd9\x89",
		139 => '', 160 => "\xc2\xa0", 208 => "\xd8\xb0", 234 => "\xd9\x8a",
		140 => '', 164 => "\xc2\xa4", 209 => "\xd8\xb1", 235 => "\xd9\x8b",
		141 => '', 172 => "\xd8\x8c", 210 => "\xd8\xb2", 236 => "\xd9\x8c",
		142 => '', 173 => "\xc2\xad", 211 => "\xd8\xb3", 237 => "\xd9\x8d",
		143 => '', 187 => "\xd8\x9b", 212 => "\xd8\xb4", 238 => "\xd9\x8e",
		144 => '', 191 => "\xd8\x9f", 213 => "\xd8\xb5", 239 => "\xd9\x8f",
		145 => '', 193 => "\xd8\xa1", 214 => "\xd8\xb6", 240 => "\xd9\x90",
		146 => '', 194 => "\xd8\xa2", 215 => "\xd8\xb7", 241 => "\xd9\x91",
		147 => '', 195 => "\xd8\xa3", 216 => "\xd8\xb8", 242 => "\xd9\x92",
		148 => '', 196 => "\xd8\xa4", 217 => "\xd8\xb9");

	    $charset['ISO-8859-7'] = array(
		128 => '', 160 => "\xc2\xa0", 193 => "\xce\x91", 226 => "\xce\xb2",
		129 => '', 161 => "\xe2\x80\x98", 194 => "\xce\x92", 227 => "\xce\xb3",
		130 => '', 162 => "\xe2\x80\x99", 195 => "\xce\x93", 228 => "\xce\xb4",
		131 => '', 163 => "\xc2\xa3", 196 => "\xce\x94", 229 => "\xce\xb5",
		132 => '', 164 => "\xe2\x82\xac", 197 => "\xce\x95", 230 => "\xce\xb6",
		133 => '', 165 => "\xe2\x82\xaf", 198 => "\xce\x96", 231 => "\xce\xb7",
		134 => '', 166 => "\xc2\xa6", 199 => "\xce\x97", 232 => "\xce\xb8",
		135 => '', 167 => "\xc2\xa7", 200 => "\xce\x98", 233 => "\xce\xb9",
		136 => '', 168 => "\xc2\xa8", 201 => "\xce\x99", 234 => "\xce\xba",
		137 => '', 169 => "\xc2\xa9", 202 => "\xce\x9a", 235 => "\xce\xbb",
		138 => '', 170 => "\xcd\xba", 203 => "\xce\x9b", 236 => "\xce\xbc",
		139 => '', 171 => "\xc2\xab", 204 => "\xce\x9c", 237 => "\xce\xbd",
		140 => '', 172 => "\xc2\xac", 205 => "\xce\x9d", 238 => "\xce\xbe",
		141 => '', 173 => "\xc2\xad", 206 => "\xce\x9e", 239 => "\xce\xbf",
		142 => '', 175 => "\xe2\x80\x95", 207 => "\xce\x9f", 240 => "\xcf\x80",
		143 => '', 176 => "\xc2\xb0", 208 => "\xce\xa0", 241 => "\xcf\x81",
		144 => '', 177 => "\xc2\xb1", 209 => "\xce\xa1", 242 => "\xcf\x82",
		145 => '', 178 => "\xc2\xb2", 211 => "\xce\xa3", 243 => "\xcf\x83",
		146 => '', 179 => "\xc2\xb3", 212 => "\xce\xa4", 244 => "\xcf\x84",
		147 => '', 180 => "\xce\x84", 213 => "\xce\xa5", 245 => "\xcf\x85",
		148 => '', 181 => "\xce\x85", 214 => "\xce\xa6", 246 => "\xcf\x86",
		149 => '', 182 => "\xce\x86", 215 => "\xce\xa7", 247 => "\xcf\x87",
		150 => '', 183 => "\xc2\xb7", 216 => "\xce\xa8", 248 => "\xcf\x88",
		151 => '', 184 => "\xce\x88", 217 => "\xce\xa9", 249 => "\xcf\x89",
		152 => '', 185 => "\xce\x89", 218 => "\xce\xaa", 250 => "\xcf\x8a",
		153 => '', 186 => "\xce\x8a", 219 => "\xce\xab", 251 => "\xcf\x8b",
		154 => '', 187 => "\xc2\xbb", 220 => "\xce\xac", 252 => "\xcf\x8c",
		155 => '', 188 => "\xce\x8c", 221 => "\xce\xad", 253 => "\xcf\x8d",
		156 => '', 189 => "\xc2\xbd", 222 => "\xce\xae", 254 => "\xcf\x8e",
		157 => '', 190 => "\xce\x8e", 223 => "\xce\xaf",
		158 => '', 191 => "\xce\x8f", 224 => "\xce\xb0",
		159 => '', 192 => "\xce\x90", 225 => "\xce\xb1");

	    $charset['ISO-8859-8'] = array(
		128 => '', 151 => '', 175 => "\xc2\xaf", 230 => "\xd7\x96",
		129 => '', 152 => '', 176 => "\xc2\xb0", 231 => "\xd7\x97",
		130 => '', 153 => '', 177 => "\xc2\xb1", 232 => "\xd7\x98",
		131 => '', 154 => '', 178 => "\xc2\xb2", 233 => "\xd7\x99",
		132 => '', 155 => '', 179 => "\xc2\xb3", 234 => "\xd7\x9a",
		133 => '', 156 => '', 180 => "\xc2\xb4", 235 => "\xd7\x9b",
		134 => '', 157 => '', 181 => "\xc2\xb5", 236 => "\xd7\x9c",
		135 => '', 158 => '', 182 => "\xc2\xb6", 237 => "\xd7\x9d",
		136 => '', 159 => '', 183 => "\xc2\xb7", 238 => "\xd7\x9e",
		137 => '', 160 => "\xc2\xa0", 184 => "\xc2\xb8", 239 => "\xd7\x9f",
		138 => '', 162 => "\xc2\xa2", 185 => "\xc2\xb9", 240 => "\xd7\xa0",
		139 => '', 163 => "\xc2\xa3", 186 => "\xc3\xb7", 241 => "\xd7\xa1",
		140 => '', 164 => "\xc2\xa4", 187 => "\xc2\xbb", 242 => "\xd7\xa2",
		141 => '', 165 => "\xc2\xa5", 188 => "\xc2\xbc", 243 => "\xd7\xa3",
		142 => '', 166 => "\xc2\xa6", 189 => "\xc2\xbd", 244 => "\xd7\xa4",
		143 => '', 167 => "\xc2\xa7", 190 => "\xc2\xbe", 245 => "\xd7\xa5",
		144 => '', 168 => "\xc2\xa8", 223 => "\xe2\x80\x97", 246 => "\xd7\xa6",
		145 => '', 169 => "\xc2\xa9", 224 => "\xd7\x90", 247 => "\xd7\xa7",
		146 => '', 170 => "\xc3\x97", 225 => "\xd7\x91", 248 => "\xd7\xa8",
		147 => '', 171 => "\xc2\xab", 226 => "\xd7\x92", 249 => "\xd7\xa9",
		148 => '', 172 => "\xc2\xac", 227 => "\xd7\x93", 250 => "\xd7\xaa",
		149 => '', 173 => "\xc2\xad", 228 => "\xd7\x94", 253 => "\xe2\x80\x8e",
		150 => '', 174 => "\xc2\xae", 229 => "\xd7\x95", 254 => "\xe2\x80\x8f");

	    $charset['ISO-8859-9'] = array(
		128 => '', 160 => "\xc2\xa0", 192 => "\xc3\x80", 224 => "\xc3\xa0",
		129 => '', 161 => "\xc2\xa1", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => '', 162 => "\xc2\xa2", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc2\xa3", 195 => "\xc3\x83", 227 => "\xc3\xa3",
		132 => '', 164 => "\xc2\xa4", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => '', 165 => "\xc2\xa5", 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => '', 166 => "\xc2\xa6", 198 => "\xc3\x86", 230 => "\xc3\xa6",
		135 => '', 167 => "\xc2\xa7", 199 => "\xc3\x87", 231 => "\xc3\xa7",
		136 => '', 168 => "\xc2\xa8", 200 => "\xc3\x88", 232 => "\xc3\xa8",
		137 => '', 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc2\xaa", 202 => "\xc3\x8a", 234 => "\xc3\xaa",
		139 => '', 171 => "\xc2\xab", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => '', 172 => "\xc2\xac", 204 => "\xc3\x8c", 236 => "\xc3\xac",
		141 => '', 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => '', 174 => "\xc2\xae", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => '', 175 => "\xc2\xaf", 207 => "\xc3\x8f", 239 => "\xc3\xaf",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc4\x9e", 240 => "\xc4\x9f",
		145 => '', 177 => "\xc2\xb1", 209 => "\xc3\x91", 241 => "\xc3\xb1",
		146 => '', 178 => "\xc2\xb2", 210 => "\xc3\x92", 242 => "\xc3\xb2",
		147 => '', 179 => "\xc2\xb3", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => '', 180 => "\xc2\xb4", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => '', 181 => "\xc2\xb5", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => '', 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => '', 183 => "\xc2\xb7", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc2\xb8", 216 => "\xc3\x98", 248 => "\xc3\xb8",
		153 => '', 185 => "\xc2\xb9", 217 => "\xc3\x99", 249 => "\xc3\xb9",
		154 => '', 186 => "\xc2\xba", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => '', 187 => "\xc2\xbb", 219 => "\xc3\x9b", 251 => "\xc3\xbb",
		156 => '', 188 => "\xc2\xbc", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => '', 189 => "\xc2\xbd", 221 => "\xc4\xb0", 253 => "\xc4\xb1",
		158 => '', 190 => "\xc2\xbe", 222 => "\xc5\x9e", 254 => "\xc5\x9f",
		159 => '', 191 => "\xc2\xbf", 223 => "\xc3\x9f", 255 => "\xc3\xbf");

	    $charset['CP1250'] = array(
		128 => "\xe2\x82\xac", 160 => "\xc2\xa0", 192 => "\xc5\x94", 224 => "\xc5\x95",
		129 => '', 161 => "\xcb\x87", 193 => "\xc3\x81", 225 => "\xc3\xa1",
		130 => "\xe2\x80\x9a", 162 => "\xcb\x98", 194 => "\xc3\x82", 226 => "\xc3\xa2",
		131 => '', 163 => "\xc5\x81", 195 => "\xc4\x82", 227 => "\xc4\x83",
		132 => "\xe2\x80\x9e", 164 => "\xc2\xa4", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => "\xe2\x80\xa6", 165 => "\xc4\x84", 197 => "\xc4\xb9", 229 => "\xc4\xba",
		134 => "\xe2\x80\xa0", 166 => "\xc2\xa6", 198 => "\xc4\x86", 230 => "\xc4\x87",
		135 => "\xe2\x80\xa1", 167 => "\xc2\xa7", 199 => "\xc3\x87", 231 => "\xc3\xa7",
		136 => '', 168 => "\xc2\xa8", 200 => "\xc4\x8c", 232 => "\xc4\x8d",
		137 => "\xe2\x80\xb0", 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => "\xc5\xa0", 170 => "\xc5\x9e", 202 => "\xc4\x98", 234 => "\xc4\x99",
		139 => "\xe2\x80\xb9", 171 => "\xc2\xab", 203 => "\xc3\x8b", 235 => "\xc3\xab",
		140 => "\xc5\x9a", 172 => "\xc2\xac", 204 => "\xc4\x9a", 236 => "\xc4\x9b",
		141 => "\xc5\xa4", 173 => "\xc2\xad", 205 => "\xc3\x8d", 237 => "\xc3\xad",
		142 => "\xc5\xbd", 174 => "\xc2\xae", 206 => "\xc3\x8e", 238 => "\xc3\xae",
		143 => "\xc5\xb9", 175 => "\xc5\xbb", 207 => "\xc4\x8e", 239 => "\xc4\x8f",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc4\x90", 240 => "\xc4\x91",
		145 => "\xe2\x80\x98", 177 => "\xc2\xb1", 209 => "\xc5\x83", 241 => "\xc5\x84",
		146 => "\xe2\x80\x99", 178 => "\xcb\x9b", 210 => "\xc5\x87", 242 => "\xc5\x88",
		147 => "\xe2\x80\x9c", 179 => "\xc5\x82", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => "\xe2\x80\x9d", 180 => "\xc2\xb4", 212 => "\xc3\x94", 244 => "\xc3\xb4",
		149 => "\xe2\x80\xa2", 181 => "\xc2\xb5", 213 => "\xc5\x90", 245 => "\xc5\x91",
		150 => "\xe2\x80\x93", 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => "\xe2\x80\x94", 183 => "\xc2\xb7", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc2\xb8", 216 => "\xc5\x98", 248 => "\xc5\x99",
		153 => "\xe2\x84\xa2", 185 => "\xc4\x85", 217 => "\xc5\xae", 249 => "\xc5\xaf",
		154 => "\xc5\xa1", 186 => "\xc5\x9f", 218 => "\xc3\x9a", 250 => "\xc3\xba",
		155 => "\xe2\x80\xba", 187 => "\xc2\xbb", 219 => "\xc5\xb0", 251 => "\xc5\xb1",
		156 => "\xc5\x9b", 188 => "\xc4\xbd", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => "\xc5\xa5", 189 => "\xcb\x9d", 221 => "\xc3\x9d", 253 => "\xc3\xbd",
		158 => "\xc5\xbe", 190 => "\xc4\xbe", 222 => "\xc5\xa2", 254 => "\xc5\xa3",
		159 => "\xc5\xba", 191 => "\xc5\xbc", 223 => "\xc3\x9f", 255 => "\xcb\x99");

	    $charset['CP1251'] = array(
		128 => "\xd0\x82", 160 => "\xc2\xa0", 192 => "\xd0\x90", 224 => "\xd0\xb0",
		129 => "\xd0\x83", 161 => "\xd0\x8e", 193 => "\xd0\x91", 225 => "\xd0\xb1",
		130 => "\xe2\x80\x9a", 162 => "\xd1\x9e", 194 => "\xd0\x92", 226 => "\xd0\xb2",
		131 => "\xd1\x93", 163 => "\xd0\x88", 195 => "\xd0\x93", 227 => "\xd0\xb3",
		132 => "\xe2\x80\x9e", 164 => "\xc2\xa4", 196 => "\xd0\x94", 228 => "\xd0\xb4",
		133 => "\xe2\x80\xa6", 165 => "\xd2\x90", 197 => "\xd0\x95", 229 => "\xd0\xb5",
		134 => "\xe2\x80\xa0", 166 => "\xc2\xa6", 198 => "\xd0\x96", 230 => "\xd0\xb6",
		135 => "\xe2\x80\xa1", 167 => "\xc2\xa7", 199 => "\xd0\x97", 231 => "\xd0\xb7",
		136 => "\xe2\x82\xac", 168 => "\xd0\x81", 200 => "\xd0\x98", 232 => "\xd0\xb8",
		137 => "\xe2\x80\xb0", 169 => "\xc2\xa9", 201 => "\xd0\x99", 233 => "\xd0\xb9",
		138 => "\xd0\x89", 170 => "\xd0\x84", 202 => "\xd0\x9a", 234 => "\xd0\xba",
		139 => "\xe2\x80\xb9", 171 => "\xc2\xab", 203 => "\xd0\x9b", 235 => "\xd0\xbb",
		140 => "\xd0\x8a", 172 => "\xc2\xac", 204 => "\xd0\x9c", 236 => "\xd0\xbc",
		141 => "\xd0\x8c", 173 => "\xc2\xad", 205 => "\xd0\x9d", 237 => "\xd0\xbd",
		142 => "\xd0\x8b", 174 => "\xc2\xae", 206 => "\xd0\x9e", 238 => "\xd0\xbe",
		143 => "\xd0\x8f", 175 => "\xd0\x87", 207 => "\xd0\x9f", 239 => "\xd0\xbf",
		144 => "\xd1\x92", 176 => "\xc2\xb0", 208 => "\xd0\xa0", 240 => "\xd1\x80",
		145 => "\xe2\x80\x98", 177 => "\xc2\xb1", 209 => "\xd0\xa1", 241 => "\xd1\x81",
		146 => "\xe2\x80\x99", 178 => "\xd0\x86", 210 => "\xd0\xa2", 242 => "\xd1\x82",
		147 => "\xe2\x80\x9c", 179 => "\xd1\x96", 211 => "\xd0\xa3", 243 => "\xd1\x83",
		148 => "\xe2\x80\x9d", 180 => "\xd2\x91", 212 => "\xd0\xa4", 244 => "\xd1\x84",
		149 => "\xe2\x80\xa2", 181 => "\xc2\xb5", 213 => "\xd0\xa5", 245 => "\xd1\x85",
		150 => "\xe2\x80\x93", 182 => "\xc2\xb6", 214 => "\xd0\xa6", 246 => "\xd1\x86",
		151 => "\xe2\x80\x94", 183 => "\xc2\xb7", 215 => "\xd0\xa7", 247 => "\xd1\x87",
		152 => '', 184 => "\xd1\x91", 216 => "\xd0\xa8", 248 => "\xd1\x88",
		153 => "\xe2\x84\xa2", 185 => "\xe2\x84\x96", 217 => "\xd0\xa9", 249 => "\xd1\x89",
		154 => "\xd1\x99", 186 => "\xd1\x94", 218 => "\xd0\xaa", 250 => "\xd1\x8a",
		155 => "\xe2\x80\xba", 187 => "\xc2\xbb", 219 => "\xd0\xab", 251 => "\xd1\x8b",
		156 => "\xd1\x9a", 188 => "\xd1\x98", 220 => "\xd0\xac", 252 => "\xd1\x8c",
		157 => "\xd1\x9c", 189 => "\xd0\x85", 221 => "\xd0\xad", 253 => "\xd1\x8d",
		158 => "\xd1\x9b", 190 => "\xd1\x95", 222 => "\xd0\xae", 254 => "\xd1\x8e",
		159 => "\xd1\x9f", 191 => "\xd1\x97", 223 => "\xd0\xaf", 255 => "\xd1\x8f");

	    $charset['CP1252'] = array(
		128 => "\xe2\x82\xac", 129 => "\xef\xbf\xbe", 130 => "\xe2\x80\x9a",
		131 => "\xc6\x92", 132 => "\xe2\x80\x9e", 133 => "\xe2\x80\xa6",
		134 => "\xe2\x80\xa0", 135 => "\xe2\x80\xa1", 136 => "\xcb\x86",
		137 => "\xe2\x80\xb0", 138 => "\xc5\xa0", 139 => "\xe2\x80\xb9", 140 => "\xc5\x92",
		141 => "\xef\xbf\xbe", 142 => "\xc5\xbd", 143 => "\xef\xbf\xbe",
		144 => "\xef\xbf\xbe", 145 => "\xe2\x80\x98", 146 => "\xe2\x80\x99",
		147 => "\xe2\x80\x9c", 148 => "\xe2\x80\x9d", 149 => "\xe2\x80\xa2",
		150 => "\xe2\x80\x93", 151 => "\xe2\x80\x94", 152 => "\xcb\x9c",
		153 => "\xe2\x84\xa2", 154 => "\xc5\xa1", 155 => "\xe2\x80\xba",
		156 => "\xc5\x93", 157 => "\xef\xbf\xbe", 158 => "\xc5\xbe", 159 => "\xc5\xb8",
		160 => "\xc2\xa0", 161 => "\xc2\xa1", 162 => "\xc2\xa2", 163 => "\xc2\xa3",
		164 => "\xc2\xa4", 165 => "\xc2\xa5", 166 => "\xc2\xa6", 167 => "\xc2\xa7",
		168 => "\xc2\xa8", 169 => "\xc2\xa9", 170 => "\xc2\xaa", 171 => "\xc2\xab",
		172 => "\xc2\xac", 173 => "\xc2\xad", 174 => "\xc2\xae", 175 => "\xc2\xaf",
		176 => "\xc2\xb0", 177 => "\xc2\xb1", 178 => "\xc2\xb2", 179 => "\xc2\xb3",
		180 => "\xc2\xb4", 181 => "\xc2\xb5", 182 => "\xc2\xb6", 183 => "\xc2\xb7",
		184 => "\xc2\xb8", 185 => "\xc2\xb9", 186 => "\xc2\xba", 187 => "\xc2\xbb",
		188 => "\xc2\xbc", 189 => "\xc2\xbd", 190 => "\xc2\xbe", 191 => "\xc2\xbf",
		192 => "\xc3\x80", 193 => "\xc3\x81", 194 => "\xc3\x82", 195 => "\xc3\x83",
		196 => "\xc3\x84", 197 => "\xc3\x85", 198 => "\xc3\x86", 199 => "\xc3\x87",
		200 => "\xc3\x88", 201 => "\xc3\x89", 202 => "\xc3\x8a", 203 => "\xc3\x8b",
		204 => "\xc3\x8c", 205 => "\xc3\x8d", 206 => "\xc3\x8e", 207 => "\xc3\x8f",
		208 => "\xc3\x90", 209 => "\xc3\x91", 210 => "\xc3\x92", 211 => "\xc3\x93",
		212 => "\xc3\x94", 213 => "\xc3\x95", 214 => "\xc3\x96", 215 => "\xc3\x97",
		216 => "\xc3\x98", 217 => "\xc3\x99", 218 => "\xc3\x9a", 219 => "\xc3\x9b",
		220 => "\xc3\x9c", 221 => "\xc3\x9d", 222 => "\xc3\x9e", 223 => "\xc3\x9f",
		224 => "\xc3\xa0", 225 => "\xc3\xa1", 226 => "\xc3\xa2", 227 => "\xc3\xa3",
		228 => "\xc3\xa4", 229 => "\xc3\xa5", 230 => "\xc3\xa6", 231 => "\xc3\xa7",
		232 => "\xc3\xa8", 233 => "\xc3\xa9", 234 => "\xc3\xaa", 235 => "\xc3\xab",
		236 => "\xc3\xac", 237 => "\xc3\xad", 238 => "\xc3\xae", 239 => "\xc3\xaf",
		240 => "\xc3\xb0", 241 => "\xc3\xb1", 242 => "\xc3\xb2", 243 => "\xc3\xb3",
		244 => "\xc3\xb4", 245 => "\xc3\xb5", 246 => "\xc3\xb6", 247 => "\xc3\xb7",
		248 => "\xc3\xb8", 249 => "\xc3\xb9", 250 => "\xc3\xba", 251 => "\xc3\xbb",
		252 => "\xc3\xbc", 253 => "\xc3\xbd", 254 => "\xc3\xbe", 255 => "\xc3\xbf");

	    $charset['CP1257'] = array(
		128 => "\xe2\x82\xac", 160 => "\xc2\xa0", 192 => "\xc4\x84", 224 => "\xc4\x85",
		129 => '', 161 => '', 193 => "\xc4\xae", 225 => "\xc4\xaf",
		130 => "\xe2\x80\x9a", 162 => "\xc2\xa2", 194 => "\xc4\x80", 226 => "\xc4\x81",
		131 => '', 163 => "\xc2\xa3", 195 => "\xc4\x86", 227 => "\xc4\x87",
		132 => "\xe2\x80\x9e", 164 => "\xc2\xa4", 196 => "\xc3\x84", 228 => "\xc3\xa4",
		133 => "\xe2\x80\xa6", 165 => '', 197 => "\xc3\x85", 229 => "\xc3\xa5",
		134 => "\xe2\x80\xa0", 166 => "\xc2\xa6", 198 => "\xc4\x98", 230 => "\xc4\x99",
		135 => "\xe2\x80\xa1", 167 => "\xc2\xa7", 199 => "\xc4\x92", 231 => "\xc4\x93",
		136 => '', 168 => "\xc3\x98", 200 => "\xc4\x8c", 232 => "\xc4\x8d",
		137 => "\xe2\x80\xb0", 169 => "\xc2\xa9", 201 => "\xc3\x89", 233 => "\xc3\xa9",
		138 => '', 170 => "\xc5\x96", 202 => "\xc5\xb9", 234 => "\xc5\xba",
		139 => "\xe2\x80\xb9", 171 => "\xc2\xab", 203 => "\xc4\x96", 235 => "\xc4\x97",
		140 => '', 172 => "\xc2\xac", 204 => "\xc4\xa2", 236 => "\xc4\xa3",
		141 => "\xc2\xa8", 173 => "\xc2\xad", 205 => "\xc4\xb6", 237 => "\xc4\xb7",
		142 => "\xcb\x87", 174 => "\xc2\xae", 206 => "\xc4\xaa", 238 => "\xc4\xab",
		143 => "\xc2\xb8", 175 => "\xc3\x86", 207 => "\xc4\xbb", 239 => "\xc4\xbc",
		144 => '', 176 => "\xc2\xb0", 208 => "\xc5\xa0", 240 => "\xc5\xa1",
		145 => "\xe2\x80\x98", 177 => "\xc2\xb1", 209 => "\xc5\x83", 241 => "\xc5\x84",
		146 => "\xe2\x80\x99", 178 => "\xc2\xb2", 210 => "\xc5\x85", 242 => "\xc5\x86",
		147 => "\xe2\x80\x9c", 179 => "\xc2\xb3", 211 => "\xc3\x93", 243 => "\xc3\xb3",
		148 => "\xe2\x80\x9d", 180 => "\xc2\xb4", 212 => "\xc5\x8c", 244 => "\xc5\x8d",
		149 => "\xe2\x80\xa2", 181 => "\xc2\xb5", 213 => "\xc3\x95", 245 => "\xc3\xb5",
		150 => "\xe2\x80\x93", 182 => "\xc2\xb6", 214 => "\xc3\x96", 246 => "\xc3\xb6",
		151 => "\xe2\x80\x94", 183 => "\xc2\xb7", 215 => "\xc3\x97", 247 => "\xc3\xb7",
		152 => '', 184 => "\xc3\xb8", 216 => "\xc5\xb2", 248 => "\xc5\xb3",
		153 => "\xe2\x84\xa2", 185 => "\xc2\xb9", 217 => "\xc5\x81", 249 => "\xc5\x82",
		154 => '', 186 => "\xc5\x97", 218 => "\xc5\x9a", 250 => "\xc5\x9b",
		155 => "\xe2\x80\xba", 187 => "\xc2\xbb", 219 => "\xc5\xaa", 251 => "\xc5\xab",
		156 => '', 188 => "\xc2\xbc", 220 => "\xc3\x9c", 252 => "\xc3\xbc",
		157 => "\xc2\xaf", 189 => "\xc2\xbd", 221 => "\xc5\xbb", 253 => "\xc5\xbc",
		158 => "\xcb\x9b", 190 => "\xc2\xbe", 222 => "\xc5\xbd", 254 => "\xc5\xbe",
		159 => '', 191 => "\xc3\xa6", 223 => "\xc3\x9f", 255 => "\xcb\x99");

	    $charset['KOI8-R'] = array(
		128 => "\xe2\x94\x80", 160 => "\xe2\x95\x90", 192 => "\xd1\x8e", 224 => "\xd0\xae",
		129 => "\xe2\x94\x82", 161 => "\xe2\x95\x91", 193 => "\xd0\xb0", 225 => "\xd0\x90",
		130 => "\xe2\x94\x8c", 162 => "\xe2\x95\x92", 194 => "\xd0\xb1", 226 => "\xd0\x91",
		131 => "\xe2\x94\x90", 163 => "\xd1\x91", 195 => "\xd1\x86", 227 => "\xd0\xa6",
		132 => "\xe2\x94\x94", 164 => "\xe2\x95\x93", 196 => "\xd0\xb4", 228 => "\xd0\x94",
		133 => "\xe2\x94\x98", 165 => "\xe2\x95\x94", 197 => "\xd0\xb5", 229 => "\xd0\x95",
		134 => "\xe2\x94\x9c", 166 => "\xe2\x95\x95", 198 => "\xd1\x84", 230 => "\xd0\xa4",
		135 => "\xe2\x94\xa4", 167 => "\xe2\x95\x96", 199 => "\xd0\xb3", 231 => "\xd0\x93",
		136 => "\xe2\x94\xac", 168 => "\xe2\x95\x97", 200 => "\xd1\x85", 232 => "\xd0\xa5",
		137 => "\xe2\x94\xb4", 169 => "\xe2\x95\x98", 201 => "\xd0\xb8", 233 => "\xd0\x98",
		138 => "\xe2\x94\xbc", 170 => "\xe2\x95\x99", 202 => "\xd0\xb9", 234 => "\xd0\x99",
		139 => "\xe2\x96\x80", 171 => "\xe2\x95\x9a", 203 => "\xd0\xba", 235 => "\xd0\x9a",
		140 => "\xe2\x96\x84", 172 => "\xe2\x95\x9b", 204 => "\xd0\xbb", 236 => "\xd0\x9b",
		141 => "\xe2\x96\x88", 173 => "\xe2\x95\x9c", 205 => "\xd0\xbc", 237 => "\xd0\x9c",
		142 => "\xe2\x96\x8c", 174 => "\xe2\x95\x9d", 206 => "\xd0\xbd", 238 => "\xd0\x9d",
		143 => "\xe2\x96\x90", 175 => "\xe2\x95\x9e", 207 => "\xd0\xbe", 239 => "\xd0\x9e",
		144 => "\xe2\x96\x91", 176 => "\xe2\x95\x9f", 208 => "\xd0\xbf", 240 => "\xd0\x9f",
		145 => "\xe2\x96\x92", 177 => "\xe2\x95\xa0", 209 => "\xd1\x8f", 241 => "\xd0\xaf",
		146 => "\xe2\x96\x93", 178 => "\xe2\x95\xa1", 210 => "\xd1\x80", 242 => "\xd0\xa0",
		147 => "\xe2\x8c\xa0", 179 => "\xd0\x81", 211 => "\xd1\x81", 243 => "\xd0\xa1",
		148 => "\xe2\x96\xa0", 180 => "\xe2\x95\xa2", 212 => "\xd1\x82", 244 => "\xd0\xa2",
		149 => "\xe2\x88\x99", 181 => "\xe2\x95\xa3", 213 => "\xd1\x83", 245 => "\xd0\xa3",
		150 => "\xe2\x88\x9a", 182 => "\xe2\x95\xa4", 214 => "\xd0\xb6", 246 => "\xd0\x96",
		151 => "\xe2\x89\x88", 183 => "\xe2\x95\xa5", 215 => "\xd0\xb2", 247 => "\xd0\x92",
		152 => "\xe2\x89\xa4", 184 => "\xe2\x95\xa6", 216 => "\xd1\x8c", 248 => "\xd0\xac",
		153 => "\xe2\x89\xa5", 185 => "\xe2\x95\xa7", 217 => "\xd1\x8b", 249 => "\xd0\xab",
		154 => "\xc2\xa0", 186 => "\xe2\x95\xa8", 218 => "\xd0\xb7", 250 => "\xd0\x97",
		155 => "\xe2\x8c\xa1", 187 => "\xe2\x95\xa9", 219 => "\xd1\x88", 251 => "\xd0\xa8",
		156 => "\xc2\xb0", 188 => "\xe2\x95\xaa", 220 => "\xd1\x8d", 252 => "\xd0\xad",
		157 => "\xc2\xb2", 189 => "\xe2\x95\xab", 221 => "\xd1\x89", 253 => "\xd0\xa9",
		158 => "\xc2\xb7", 190 => "\xe2\x95\xac", 222 => "\xd1\x87", 254 => "\xd0\xa7",
		159 => "\xc3\xb7", 191 => "\xc2\xa9", 223 => "\xd1\x8a", 255 => "\xd0\xaa");

	    $charset['KOI8-U'] = array(
		0 => '', 136 => "\xe2\x94\xac", 177 => "\xe2\x95\xa0", 218 => "\xd0\xb7",
		1 => '', 137 => "\xe2\x94\xb4", 178 => "\xe2\x95\xa1", 219 => "\xd1\x88",
		2 => '', 138 => "\xe2\x94\xbc", 179 => "\xd0\x81", 220 => "\xd1\x8d",
		3 => '', 139 => "\xe2\x96\x80", 180 => "\xd0\x84", 221 => "\xd1\x89",
		4 => '', 140 => "\xe2\x96\x84", 181 => "\xe2\x95\xa3", 222 => "\xd1\x87",
		5 => '', 141 => "\xe2\x96\x88", 182 => "\xd0\x86", 223 => "\xd1\x8a",
		6 => '', 142 => "\xe2\x96\x8c", 183 => "\xd0\x87", 224 => "\xd0\xae",
		7 => '', 143 => "\xe2\x96\x90", 184 => "\xe2\x95\xa6", 225 => "\xd0\x90",
		8 => '', 144 => "\xe2\x96\x91", 185 => "\xe2\x95\xa7", 226 => "\xd0\x91",
		9 => '', 145 => "\xe2\x96\x92", 186 => "\xe2\x95\xa8", 227 => "\xd0\xa6",
		10 => '', 146 => "\xe2\x96\x93", 187 => "\xe2\x95\xa9", 228 => "\xd0\x94",
		11 => '', 147 => "\xe2\x8c\xa0", 188 => "\xe2\x95\xaa", 229 => "\xd0\x95",
		12 => '', 148 => "\xe2\x96\xa0", 189 => "\xd2\x90", 230 => "\xd0\xa4",
		13 => '', 149 => "\xe2\x88\x99", 190 => "\xe2\x95\xac", 231 => "\xd0\x93",
		14 => '', 150 => "\xe2\x88\x9a", 191 => "\xc2\xa9", 232 => "\xd0\xa5",
		15 => '', 151 => "\xe2\x89\x88", 192 => "\xd1\x8e", 233 => "\xd0\x98",
		16 => '', 152 => "\xe2\x89\xa4", 193 => "\xd0\xb0", 234 => "\xd0\x99",
		17 => '', 153 => "\xe2\x89\xa5", 194 => "\xd0\xb1", 235 => "\xd0\x9a",
		18 => '', 154 => "\xc2\xa0", 195 => "\xd1\x86", 236 => "\xd0\x9b",
		19 => '', 155 => "\xe2\x8c\xa1", 196 => "\xd0\xb4", 237 => "\xd0\x9c",
		20 => '', 156 => "\xc2\xb0", 197 => "\xd0\xb5", 238 => "\xd0\x9d",
		21 => '', 157 => "\xc2\xb2", 198 => "\xd1\x84", 239 => "\xd0\x9e",
		22 => '', 158 => "\xc2\xb7", 199 => "\xd0\xb3", 240 => "\xd0\x9f",
		23 => '', 159 => "\xc3\xb7", 200 => "\xd1\x85", 241 => "\xd0\xaf",
		24 => '', 160 => "\xe2\x95\x90", 201 => "\xd0\xb8", 242 => "\xd0\xa0",
		25 => '', 161 => "\xe2\x95\x91", 202 => "\xd0\xb9", 243 => "\xd0\xa1",
		26 => '', 162 => "\xe2\x95\x92", 203 => "\xd0\xba", 244 => "\xd0\xa2",
		27 => '', 163 => "\xd1\x91", 204 => "\xd0\xbb", 245 => "\xd0\xa3",
		28 => '', 164 => "\xd1\x94", 205 => "\xd0\xbc", 246 => "\xd0\x96",
		29 => '', 165 => "\xe2\x95\x94", 206 => "\xd0\xbd", 247 => "\xd0\x92",
		30 => '', 166 => "\xd1\x96", 207 => "\xd0\xbe", 248 => "\xd0\xac",
		31 => '', 167 => "\xd1\x97", 208 => "\xd0\xbf", 249 => "\xd0\xab",
		127 => '', 168 => "\xe2\x95\x97", 209 => "\xd1\x8f", 250 => "\xd0\x97",
		128 => "\xe2\x94\x80", 169 => "\xe2\x95\x98", 210 => "\xd1\x80", 251 => "\xd0\xa8",
		129 => "\xe2\x94\x82", 170 => "\xe2\x95\x99", 211 => "\xd1\x81", 252 => "\xd0\xad",
		130 => "\xe2\x94\x8c", 171 => "\xe2\x95\x9a", 212 => "\xd1\x82", 253 => "\xd0\xa9",
		131 => "\xe2\x94\x90", 172 => "\xe2\x95\x9b", 213 => "\xd1\x83", 254 => "\xd0\xa7",
		132 => "\xe2\x94\x94", 173 => "\xd2\x91", 214 => "\xd0\xb6", 255 => "\xd0\xaa",
		133 => "\xe2\x94\x98", 174 => "\xe2\x95\x9d", 215 => "\xd0\xb2",
		134 => "\xe2\x94\x9c", 175 => "\xe2\x95\x9e", 216 => "\xd1\x8c",
		135 => "\xe2\x94\xa4", 176 => "\xe2\x95\x9f", 217 => "\xd1\x8b");
	}

	if (!isset($charset[$desired])) {
	    $charset[$desired] = null;
	}

	return $charset[$desired];
    }

    /**
     * A multibyte safe PHP implementation of mb_substr for UTF-8.
     *
     * This is going to be a whole lot slower than mb_substr, so we should use that instead,
     * whenever we can.
     *
     * @see GalleryCoreApi::utf8Substring
     */
    function phpUtf8Substring($string, $start, $length) {
	$strLenBytes = strlen($string);
	$string = (string)$string;
	if ($start >= $strLenBytes || $strLenBytes == 0 || $length == 0) {
	    return '';
	}

	/* We need the string length in characters to support negative $start and $length */
	$bytePos = 0;
	$characters = array();
	/* Parse the whole string into multibyte characters */
	while ($bytePos < $strLenBytes) {
	    $type = ord($string[$bytePos]) & 0xF0;
	    if ($type == 0xF0) {
		/* 4 chars representing one unicode character */
		$characters[] = substr($string, $bytePos, 4);
		$bytePos += 4;
	    }
	    else if ($type == 0xE0) {
		/* 3 chars representing one unicode character */
		$characters[] = substr($string, $bytePos, 3);
		$bytePos += 3;
	    }
	    else if (($type & 0xC0) == 0xC0) {
		/* 2 chars representing one unicode character */
		$characters[] = substr($string, $bytePos, 2);
		$bytePos += 2;
	    }
	    else {
		/* 1 char (lower ASCII) */
		$characters[] = $string[$bytePos];
		$bytePos += 1;
	    }
	}

	$strLength = count($characters);
	$start = $start < 0 ? $strLength + $start : $start;
	$start = $start < 0 ? 0 : $start;
	$length = $length < 0 ? $strLength - $start + $length : $length;
	$length = $length < 0 ? 0 : $length;
	$length = ($start + $length) > $strLength ? $strLength - $start : $length;
	$end = $start + $length;

	if ($start >= $strLength || $strLength == 0 || $length == 0 || $start > $end) {
	    return '';
	}

	/* Extract the substring from the character array */
	$pos = $start;
	$result = '';
	while ($pos < $end) {
	    $result .= $characters[$pos++];
	}
	return $result;
    }

    /**
     * A multibyte safe PHP implementation of mb_strcut for UTF-8.
     *
     * This is going to be a whole lot slower than mb_strcut, so we should use that instead,
     * whenever we can.
     *
     * @see GalleryCoreApi::utf8Strcut
     */
    function phpUtf8Strcut($string, $start, $length) {
	$strLength = strlen($string);
	$start = $start < 0 ? $strLength + $start : $start;
	$start = $start < 0 ? 0 : $start;
	$length = $length < 0 ? $strLength - $start + $length : $length;
	$length = $length < 0 ? 0 : $length;
	$length = ($start + $length) > $strLength ? $strLength - $start : $length;

	if ($start >= $strLength || $strLength == 0 || $length == 0) {
	    return '';
	}

	/* 1. Jump to the $start byte and check if it's the start of a character. */
	if ($start != 0 && (ord($string[$start]) & 0xC0) == 0x80) {
	    /* It's the 2nd to 4th byte of a multibyte character, go back to the 1st byte of it */
	    $j = 0;
	    /* Go back a maximum of 3 bytes and stop at the beginning of the string */
	    while ($start > 0 && $j++ < 3 && (ord($string[$start]) & 0xC0) == 0x80) {
		$start--;
	    }
	}

	/* 2. Extract the multibyte unsafe substring starting at the modified $start */
	$result = substr($string, $start, $length);
	/* 3. Keep the resulting string up to the last complete character */
	$end = $start + $length - 1;
	if ($end >= ($strLength -1)) {
	    return $result;
	} else if ((ord($string[$end + 1]) & 0xC0) != 0x80) {
	    /* The byte at $end is the last one in the character */
	    return $result;
	} else if (ord($string[$end]) & 0x80) { /* Is it a single-byte character? */
	    /* It's an incomplete multibyte character, go back to the last character */
	    $j = 0;
	    /* Go back a maximum of 3 bytes */
	    while ($end > $start && $j++ < 3 && (ord($string[$end]) & 0xC0) == 0x80) {
		$end--;
	    }
	    $end = $end > $start ? $end-- : $start;

	    return substr($string, $start, $end - $start);	    
	}

	return $result;
    }
}
?>
